<!DOCTYPE html>
<html>
<head>
  <title>TestProject</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= javascript_include_tag "rails-ujs" %>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <%#= stylesheet_pack_tag "application", "data-turbo-track": "reload" %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

  <%= javascript_importmap_tags %>
</head>

<body>


<p class="notice"><%= notice %></p>
<p class="alert"><%= alert %></p>
<%= render "shared/header" %>


<div id="search_result">

</div>


<%= yield %>

</body>
</html>


<script>
    $(document).ready(function () {
        $('#input-text').on('input', function () {
            console.log("this is the first search")
            var input = $(this).val();
            if (input !== "") {
                $.ajax({
                    url: "/posts/search",
                    method: "get",
                    data: {search: input},
                    success: function (data) {
                            $("#search_result").html(data);
                    }
                });
            } else {
                $("#search_result");
            }
        });
    });
</script>















